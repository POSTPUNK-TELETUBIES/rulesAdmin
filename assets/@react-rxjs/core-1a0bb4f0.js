import{O as C,S as E,n as _,a as N}from"./utils-24ca515a.js";import{r as b}from"../vendor-b612640b.js";var x={},R={get exports(){return x},set exports(t){x=t}},$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=b;function U(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F=typeof Object.is=="function"?Object.is:U,L=f.useState,A=f.useEffect,T=f.useLayoutEffect,Y=f.useDebugValue;function q(t,e){var s=e(),r=L({inst:{value:s,getSnapshot:e}}),n=r[0].inst,i=r[1];return T(function(){n.value=s,n.getSnapshot=e,w(n)&&i({inst:n})},[t,s,e]),A(function(){return w(n)&&i({inst:n}),t(function(){w(n)&&i({inst:n})})},[t]),Y(s),s}function w(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!F(t,s)}catch{return!0}}function z(t,e){return e()}var I=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z:q;$.useSyncExternalStore=f.useSyncExternalStore!==void 0?f.useSyncExternalStore:I;(function(t){t.exports=$})(R);var W=Object.defineProperty,B=(t,e,s)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,a=(t,e,s)=>(B(t,typeof e!="symbol"?e+"":e,s),s),m=Symbol("SUSPENSE"),D=class extends Promise{constructor(t){super(t)}},j=class extends Error{constructor(){super(),this.name="NoSubscribersError"}},y=class extends Error{constructor(){super(),this.name="EmptyObservableError"}},l={},S=class extends C{constructor(t,e,s=_){super(r=>{const n=new E({next:r.next.bind(r),error:r.error.bind(r),complete:_});this.refCount++;let i;r.add(()=>{var u;this.refCount--,i.unsubscribe(),this.refCount===0&&(this.currentValue=l,this.subscription&&this.subscription.unsubscribe(),s(),(u=this.subject)==null||u.complete(),this.subject=null,this.subscription=null,this.promise&&(this.promise.rej(new j),this.promise=null))}),this.subject?(i=this.subject.subscribe(n),this.currentValue!==l&&r.next(this.currentValue)):(this.subject=new N,i=this.subject.subscribe(n),this.subscription=null,this.subscription=new E({next:u=>{this.promise&&u!==m&&(this.promise.res(u),this.promise=null),this.subject.next(this.currentValue=u)},error:u=>{var o;this.subscription=null;const h=this.subject;this.subject=null,this.currentValue=l;const c=(o=this.promise)==null?void 0:o.rej;c&&u===m&&(this.promise.rej=()=>{c(u)}),h.error(u),c&&this.promise&&(this.promise.rej=c)},complete:()=>{if(this.subscription=null,this.promise&&(this.promise.rej(new y),this.promise=null),this.currentValue!==l)return this.subject.complete();if(e===l){const u=this.subject;return this.subject=null,u.error(new y)}this.subject.next(this.currentValue=e),this.subject.complete()}}),t.subscribe(this.subscription),e!==l&&this.currentValue===l&&this.subject.next(this.currentValue=e))}),this.defaultValue=e,a(this,"subject",null),a(this,"subscription",null),a(this,"refCount",0),a(this,"currentValue",l),a(this,"promise",null),a(this,"pipeState",(...r)=>{const n=super.pipe(...r);return n instanceof S?n:new S(n,l)}),a(this,"getRefCount",()=>this.refCount),a(this,"getValue",()=>{if(this.promise)return this.promise.p;if(this.currentValue!==l&&this.currentValue!==m)return this.currentValue;if(this.defaultValue!==l)return this.defaultValue;if(this.refCount===0)throw new j;const r=new D((n,i)=>{this.promise={res:n,rej:i,p:null}});return this.promise.p=r,r}),a(this,"getDefaultValue",()=>this.defaultValue),e===l&&delete this.getDefaultValue}};function P(t,e){e.getValue=t.getValue,e.getRefCount=t.getRefCount,e.pipeState=t.pipeState,t.getDefaultValue&&(e.getDefaultValue=t.getDefaultValue)}function G(t,e){const s=new H,r=typeof e=="function"?e:()=>e,n=i=>{for(let p=i.length-1;i[p]===void 0&&p>-1;p--)i.splice(-1);const u=[i.length,...i],o=s.get(u);if(o!==void 0)return o;const h=new S(t(...i),r(...i),()=>{s.delete(u)}),c=new C(p=>{const v=s.get(u);let d=h;return v?v!==c&&(d=v,P(d,c)):s.set(u,g),d.subscribe(p)});P(h,c);const g=c;return s.set(u,g),g};return(...i)=>n(i)}var H=class{constructor(){a(this,"root"),this.root=new Map}get(t){let e=this.root;for(let s=0;s<t.length;s++)if(e=e.get(t[s]),!e)return;return e}set(t,e){let s=this.root,r;for(r=0;r<t.length-1;r++){let n=s.get(t[r]);n||(n=new Map,s.set(t[r],n)),s=n}s.set(t[r],e)}delete(t){const e=[this.root];let s=this.root;for(let n=0;n<t.length-1;n++)e.push(s=s.get(t[n]));let r=e.length-1;for(e[r].delete(t[r]);--r>-1&&e[r].get(t[r]).size===0;)e[r].delete(t[r])}};function J(t,e){return new S(t,e)}var V=(...t)=>(typeof t[0]=="function"?G:J)(t[0],t.length>1?t[1]:l),K=()=>t=>new C(e=>{let s;const r=()=>{s=new E({next(n){e.next(n)},error(n){n===m?(e.next(n),r()):e.error(n)},complete(){e.complete()}}),t.subscribe(s)};return r(),()=>{s.unsubscribe()}}),O={};function Q(t,e){const r=V(...e===O?[t]:[t,e]);return[(...n)=>M(r(...n)),r]}function X(t,e){const s=e===O?V(t):V(t,e);return[()=>M(s),s]}function rt(t,e){return(typeof t=="function"?Q:X)(t,arguments.length>1?e:O)}var Z=b.createContext(null),k=()=>b.useContext(Z);Promise.resolve();var M=t=>{const e=k(),[,s]=b.useState(),r=b.useRef();if(!r.current){const i=o=>{const h=o.getValue();if(h instanceof D)throw h.catch(c=>{if(c instanceof j)return c;throw c});return h},u=()=>{const o=r.current.source$;if(!o.getRefCount()&&!o.getDefaultValue){if(!e)throw new Error("Missing Subscribe!");e(o)}return i(o)};r.current={source$:null,args:[,u]}}const n=r.current;return n.source$!==t&&(n.source$=t,n.args[0]=i=>{const u=K()(t).subscribe({next:i,error:o=>{s(()=>{throw o})}});return()=>{u.unsubscribe()}}),x.useSyncExternalStore(...n.args)};export{rt as b,x as s};
