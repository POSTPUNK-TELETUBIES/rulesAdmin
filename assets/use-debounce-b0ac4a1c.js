import{r as u}from"./vendor-b612640b.js";function P(v,t,i){var M=this,c=u.useRef(null),a=u.useRef(0),e=u.useRef(null),f=u.useRef([]),o=u.useRef(),l=u.useRef(),y=u.useRef(v),s=u.useRef(!0);u.useEffect(function(){y.current=v},[v]);var p=!t&&t!==0&&typeof window<"u";if(typeof v!="function")throw new TypeError("Expected a function");t=+t||0;var E=!!(i=i||{}).leading,A=!("trailing"in i)||!!i.trailing,m="maxWait"in i,h=m?Math.max(+i.maxWait||0,t):null;u.useEffect(function(){return s.current=!0,function(){s.current=!1}},[]);var T=u.useMemo(function(){var x=function(r){var n=f.current,R=o.current;return f.current=o.current=null,a.current=r,l.current=y.current.apply(R,n)},d=function(r,n){p&&cancelAnimationFrame(e.current),e.current=p?requestAnimationFrame(r):setTimeout(r,n)},D=function(r){if(!s.current)return!1;var n=r-c.current;return!c.current||n>=t||n<0||m&&r-a.current>=h},F=function(r){return e.current=null,A&&f.current?x(r):(f.current=o.current=null,l.current)},g=function r(){var n=Date.now();if(D(n))return F(n);if(s.current){var R=t-(n-c.current),W=m?Math.min(R,h-(n-a.current)):R;d(r,W)}},w=function(){var r=Date.now(),n=D(r);if(f.current=[].slice.call(arguments),o.current=M,c.current=r,n){if(!e.current&&s.current)return a.current=c.current,d(g,t),E?x(c.current):l.current;if(m)return d(g,t),x(c.current)}return e.current||d(g,t),l.current};return w.cancel=function(){e.current&&(p?cancelAnimationFrame(e.current):clearTimeout(e.current)),a.current=0,f.current=c.current=o.current=e.current=null},w.isPending=function(){return!!e.current},w.flush=function(){return e.current?F(Date.now()):l.current},w},[E,m,t,h,A,p]);return T}export{P as c};
