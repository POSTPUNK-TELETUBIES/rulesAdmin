import{r as t}from"./vendor-b612640b.js";function q(r,n,f){var v=this,i=t.useRef(null),m=t.useRef(0),u=t.useRef(null),o=t.useRef([]),l=t.useRef(),s=t.useRef(),p=t.useRef(r),a=t.useRef(!0);t.useEffect(function(){p.current=r},[r]);var w=!n&&n!==0&&typeof window<"u";if(typeof r!="function")throw new TypeError("Expected a function");n=+n||0;var F=!!(f=f||{}).leading,A=!("trailing"in f)||!!f.trailing,d="maxWait"in f,x=d?Math.max(+f.maxWait||0,n):null;t.useEffect(function(){return a.current=!0,function(){a.current=!1}},[]);var b=t.useMemo(function(){var y=function(e){var c=o.current,h=l.current;return o.current=l.current=null,m.current=e,s.current=p.current.apply(h,c)},R=function(e,c){w&&cancelAnimationFrame(u.current),u.current=w?requestAnimationFrame(e):setTimeout(e,c)},D=function(e){if(!a.current)return!1;var c=e-i.current;return!i.current||c>=n||c<0||d&&e-m.current>=x},M=function(e){return u.current=null,A&&o.current?y(e):(o.current=l.current=null,s.current)},E=function e(){var c=Date.now();if(D(c))return M(c);if(a.current){var h=n-(c-i.current),k=d?Math.min(h,x-(c-m.current)):h;R(e,k)}},g=function(){var e=Date.now(),c=D(e);if(o.current=[].slice.call(arguments),l.current=v,i.current=e,c){if(!u.current&&a.current)return m.current=i.current,R(E,n),F?y(i.current):s.current;if(d)return R(E,n),y(i.current)}return u.current||R(E,n),s.current};return g.cancel=function(){u.current&&(w?cancelAnimationFrame(u.current):clearTimeout(u.current)),m.current=0,o.current=i.current=l.current=u.current=null},g.isPending=function(){return!!u.current},g.flush=function(){return u.current?M(Date.now()):s.current},g},[F,d,n,x,A,w]);return b}function C(r,n){return r===n}function T(r){return typeof r=="function"?function(){return r}:r}function P(r,n,f){var v,i,m=f&&f.equalityFn||C,u=(v=t.useState(T(r)),i=v[1],[v[0],t.useCallback(function(a){return i(T(a))},[])]),o=u[0],l=u[1],s=q(t.useCallback(function(a){return l(a)},[l]),n,f),p=t.useRef(r);return m(p.current,r)||(s(r),p.current=r),[o,s]}export{P as o};
